<h1>プロフィール編集</h1>

<%= form_with(model: @user, url: update_profile_path) do |f| %>
  <div class="field">
    <% if @user.avatar.present? %>
      <%= image_tag @user.avatar.url, size: '120x120' %>
    <% else %>
      <%= image_tag 'default.jpg', size: '80x80', alt: 'プロフィール画像' %>
    <% end %>

    <%= f.file_field :avatar %>
  </div>

  <div class="field">
    <%= f.label :name, 'ユーザー名' %><br />
    <%= f.text_field :name, value: @user.name, name: "name", autofocus: true, autocomplete: "name" %>
  </div>

  <div class="field">
    <%= f.label :introduction, '自己紹介文' %><br />
    <%= f.text_area :introduction, value: @user.introduction, name: "introduction" %>
  </div>

  <div class="actions">
    <%= f.submit "更新" %>
  </div>
<% end %>

<%# マイページへ戻る %>
<%= link_to t('devise.shared.links.back'), detail_user_path(current_user) %>
